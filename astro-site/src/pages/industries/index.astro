---
import { getCollection } from 'astro:content';
import BaseLayout from '@/layouts/BaseLayout.astro';
import Breadcrumb from '@/components/Breadcrumb.astro';

const industries = await getCollection('industries');

// Organize industries by type
const businessTypes = industries.filter(i => 
  ['local-business', 'ecommerce', 'b2b', 'saas'].includes(i.slug)
);
const sectors = industries.filter(i => 
  ['technology', 'professional-services', 'healthcare', 'regulated'].includes(i.slug)
);
const media = industries.filter(i => 
  ['content-creators', 'publishing'].includes(i.slug)
);

const breadcrumbItems = [
  { label: 'Home', href: '/' },
  { label: 'Industries', href: '/industries' },
];
---

<BaseLayout
  title="AI Optimization by Industry | AI GEO"
  description="Industry-specific AI optimization strategies. Learn how to optimize for AI search and recommendations in your specific business sector."
>
  <Breadcrumb items={breadcrumbItems} />

  <main class="min-h-screen">
    <!-- Hero Section -->
    <section class="py-16 md:py-24 bg-light-bg-alt dark:bg-dark-bg-alt">
      <div class="container">
        <div class="max-w-4xl mx-auto text-center">
          <div class="text-6xl mb-6">ğŸ¢</div>
          <h1 class="text-gradient mb-6">AI Optimization by Industry</h1>
          <p class="text-xl md:text-2xl mb-8" style="color: var(--text-light);">
            Tailored AI GEO strategies for your specific industry. Each guide includes
            industry-specific tactics, use cases, and best practices.
          </p>
        </div>
      </div>
    </section>

    <!-- Business Types -->
    {businessTypes.length > 0 && (
      <section class="py-16">
        <div class="container">
          <div class="flex items-center gap-3 mb-8">
            <span class="text-4xl">ğŸª</span>
            <div>
              <h2 class="text-3xl font-bold mb-1">Business Types</h2>
              <p class="text-light">Core business models and structures</p>
            </div>
          </div>

          <div class="grid md:grid-cols-2 lg:grid-cols-4 gap-6">
            {businessTypes.map(industry => (
              <a
                href={`/industries/${industry.slug}`}
                class="card hover:shadow-glow-lg transition-all group"
              >
                <h3 class="text-xl font-semibold mb-3 group-hover:text-primary transition-colors">
                  {industry.data.title}
                </h3>
                <p class="text-light line-clamp-3">
                  {industry.data.description}
                </p>
              </a>
            ))}
          </div>
        </div>
      </section>
    )}

    <!-- Sectors -->
    {sectors.length > 0 && (
      <section class="py-16 bg-light-bg-alt dark:bg-dark-bg-alt">
        <div class="container">
          <div class="flex items-center gap-3 mb-8">
            <span class="text-4xl">ğŸ­</span>
            <div>
              <h2 class="text-3xl font-bold mb-1">Industry Sectors</h2>
              <p class="text-light">Specialized sector-specific strategies</p>
            </div>
          </div>

          <div class="grid md:grid-cols-2 lg:grid-cols-4 gap-6">
            {sectors.map(industry => (
              <a
                href={`/industries/${industry.slug}`}
                class="card hover:shadow-glow-lg transition-all group"
              >
                <h3 class="text-xl font-semibold mb-3 group-hover:text-primary transition-colors">
                  {industry.data.title}
                </h3>
                <p class="text-light line-clamp-3">
                  {industry.data.description}
                </p>
              </a>
            ))}
          </div>
        </div>
      </section>
    )}

    <!-- Media & Content -->
    {media.length > 0 && (
      <section class="py-16">
        <div class="container">
          <div class="flex items-center gap-3 mb-8">
            <span class="text-4xl">ğŸ“°</span>
            <div>
              <h2 class="text-3xl font-bold mb-1">Media & Content</h2>
              <p class="text-light">Publishing, creators, and media organizations</p>
            </div>
          </div>

          <div class="grid md:grid-cols-2 gap-6">
            {media.map(industry => (
              <a
                href={`/industries/${industry.slug}`}
                class="card hover:shadow-glow-lg transition-all group"
              >
                <h3 class="text-xl font-semibold mb-3 group-hover:text-primary transition-colors">
                  {industry.data.title}
                </h3>
                <p class="text-light line-clamp-3">
                  {industry.data.description}
                </p>
              </a>
            ))}
          </div>
        </div>
      </section>
    )}

    <!-- CTA Section -->
    <section class="py-16 bg-light-bg-alt dark:bg-dark-bg-alt">
      <div class="container">
        <div class="max-w-3xl mx-auto text-center">
          <h2 class="text-3xl font-bold mb-6">Ready to Get Started?</h2>
          <p class="text-lg mb-8 text-light">
            Explore our comprehensive guides and platform-specific strategies to optimize
            your presence for AI search engines and chatbots.
          </p>
          <div class="flex flex-col sm:flex-row gap-4 justify-center">
            <a href="/guides" class="btn btn-primary">
              View All Guides â†’
            </a>
            <a href="/platforms" class="btn btn-secondary">
              Browse Platforms â†’
            </a>
          </div>
        </div>
      </div>
    </section>
  </main>
</BaseLayout>

<style>
  .line-clamp-3 {
    display: -webkit-box;
    -webkit-line-clamp: 3;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }
</style>
