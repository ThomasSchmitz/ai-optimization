---
export interface Props {
  type?: 'info' | 'warning' | 'success' | 'tip';
  title?: string;
}

const { type = 'info', title } = Astro.props;

const styles = {
  info: 'bg-blue-500/10 border-blue-500/30 text-blue-400',
  warning: 'bg-yellow-500/10 border-yellow-500/30 text-yellow-400',
  success: 'bg-green-500/10 border-green-500/30 text-green-400',
  tip: 'bg-purple-500/10 border-purple-500/30 text-purple-400',
};

const icons = {
  info: 'üí°',
  warning: '‚ö†Ô∏è',
  success: '‚úÖ',
  tip: 'üí°',
};
---

<div
  class={`callout border-l-4 p-6 my-6 rounded-r-lg ${styles[type]}`}
  style="border-color: var(--border-color);"
>
  {
    title && (
      <h3 class="flex items-center gap-2 text-lg font-semibold mb-3">
        <span class="text-2xl">{icons[type]}</span>
        <span>{title}</span>
      </h3>
    )
  }
  <div class="callout-content">
    <slot />
  </div>
</div>

<style>
  .callout {
    backdrop-filter: blur(10px);
  }

  .callout-content :global(p:last-child) {
    margin-bottom: 0;
  }

  html:not(.dark) .callout {
    @apply bg-opacity-20;
  }
</style>
