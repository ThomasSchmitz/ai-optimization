<?xml version="1.0" encoding="UTF-8"?>
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 800 600" width="800" height="600">
  <defs>
    <style>
      .flow-title { font-family: Arial, sans-serif; font-size: 24px; font-weight: bold; fill: #1a1a1a; }
      .stage-title { font-family: Arial, sans-serif; font-size: 16px; font-weight: bold; fill: #ffffff; }
      .stage-text { font-family: Arial, sans-serif; font-size: 12px; fill: #ffffff; }
      .factor-text { font-family: Arial, sans-serif; font-size: 11px; fill: #333333; }
      .arrow { stroke: #4a90e2; stroke-width: 2; fill: none; marker-end: url(#arrowhead); }
      .success-arrow { stroke: #10a37f; stroke-width: 3; fill: none; marker-end: url(#success-arrowhead); }
      .stage-box { rx: 8; ry: 8; }
    </style>
    <marker id="arrowhead" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">
      <polygon points="0 0, 10 3, 0 6" fill="#4a90e2" />
    </marker>
    <marker id="success-arrowhead" markerWidth="12" markerHeight="12" refX="10" refY="3" orient="auto">
      <polygon points="0 0, 12 3, 0 6" fill="#10a37f" />
    </marker>
  </defs>
  
  <!-- Title -->
  <text x="400" y="30" text-anchor="middle" class="flow-title">ChatGPT Optimization Flow</text>
  
  <!-- Stage 1: User Query -->
  <rect x="50" y="60" width="140" height="80" class="stage-box" fill="#4a90e2"/>
  <text x="120" y="85" text-anchor="middle" class="stage-title">1. User Query</text>
  <text x="120" y="105" text-anchor="middle" class="stage-text">User asks ChatGPT</text>
  <text x="120" y="120" text-anchor="middle" class="stage-text">a question</text>
  
  <!-- Arrow 1 -->
  <path d="M 190 100 L 230 100" class="arrow"/>
  
  <!-- Stage 2: Query Analysis -->
  <rect x="230" y="60" width="140" height="80" class="stage-box" fill="#5b9bd5"/>
  <text x="300" y="85" text-anchor="middle" class="stage-title">2. Query Analysis</text>
  <text x="300" y="105" text-anchor="middle" class="stage-text">Determines if web</text>
  <text x="300" y="120" text-anchor="middle" class="stage-text">search needed</text>
  
  <!-- Arrow 2 -->
  <path d="M 370 100 L 410 100" class="arrow"/>
  
  <!-- Stage 3: Web Search -->
  <rect x="410" y="60" width="140" height="80" class="stage-box" fill="#6c9fc7"/>
  <text x="480" y="85" text-anchor="middle" class="stage-title">3. Web Search</text>
  <text x="480" y="105" text-anchor="middle" class="stage-text">Bing search</text>
  <text x="480" y="120" text-anchor="middle" class="stage-text">for sources</text>
  
  <!-- Arrow 3 -->
  <path d="M 550 100 L 590 100" class="arrow"/>
  
  <!-- Stage 4: Discoverability Check -->
  <rect x="590" y="60" width="160" height="80" class="stage-box" fill="#7daed4"/>
  <text x="670" y="85" text-anchor="middle" class="stage-title">4. Discoverability</text>
  <text x="670" y="105" text-anchor="middle" class="stage-text">Is your content</text>
  <text x="670" y="120" text-anchor="middle" class="stage-text">found?</text>
  
  <!-- Discoverability Factors -->
  <rect x="600" y="155" width="140" height="90" rx="5" fill="#f0f0f0" stroke="#cccccc"/>
  <text x="670" y="172" text-anchor="middle" class="factor-text" font-weight="bold">Key Factors:</text>
  <text x="670" y="188" text-anchor="middle" class="factor-text">✓ Bing indexing</text>
  <text x="670" y="203" text-anchor="middle" class="factor-text">✓ Site crawlability</text>
  <text x="670" y="218" text-anchor="middle" class="factor-text">✓ Technical SEO</text>
  <text x="670" y="233" text-anchor="middle" class="factor-text">✓ Page speed</text>
  
  <!-- Down arrow from Discoverability -->
  <path d="M 670 140 L 670 260" class="arrow"/>
  
  <!-- Stage 5: Relevance Check -->
  <rect x="590" y="260" width="160" height="80" class="stage-box" fill="#8db4d6"/>
  <text x="670" y="285" text-anchor="middle" class="stage-title">5. Relevance</text>
  <text x="670" y="305" text-anchor="middle" class="stage-text">Does it answer</text>
  <text x="670" y="320" text-anchor="middle" class="stage-text">the query?</text>
  
  <!-- Relevance Factors -->
  <rect x="600" y="355" width="140" height="90" rx="5" fill="#f0f0f0" stroke="#cccccc"/>
  <text x="670" y="372" text-anchor="middle" class="factor-text" font-weight="bold">Key Factors:</text>
  <text x="670" y="388" text-anchor="middle" class="factor-text">✓ Topic match</text>
  <text x="670" y="403" text-anchor="middle" class="factor-text">✓ Intent alignment</text>
  <text x="670" y="418" text-anchor="middle" class="factor-text">✓ Keyword coverage</text>
  <text x="670" y="433" text-anchor="middle" class="factor-text">✓ Content depth</text>
  
  <!-- Left arrow from Relevance -->
  <path d="M 590 300 L 550 300" class="arrow"/>
  
  <!-- Stage 6: Credibility Check -->
  <rect x="410" y="260" width="140" height="80" class="stage-box" fill="#9dbfd9"/>
  <text x="480" y="285" text-anchor="middle" class="stage-title">6. Credibility</text>
  <text x="480" y="305" text-anchor="middle" class="stage-text">Is the source</text>
  <text x="480" y="320" text-anchor="middle" class="stage-text">trustworthy?</text>
  
  <!-- Credibility Factors -->
  <rect x="420" y="355" width="140" height="105" rx="5" fill="#f0f0f0" stroke="#cccccc"/>
  <text x="490" y="372" text-anchor="middle" class="factor-text" font-weight="bold">Key Factors:</text>
  <text x="490" y="388" text-anchor="middle" class="factor-text">✓ E-E-A-T signals</text>
  <text x="490" y="403" text-anchor="middle" class="factor-text">✓ Author credentials</text>
  <text x="490" y="418" text-anchor="middle" class="factor-text">✓ Domain authority</text>
  <text x="490" y="433" text-anchor="middle" class="factor-text">✓ External citations</text>
  <text x="490" y="448" text-anchor="middle" class="factor-text">✓ Recency</text>
  
  <!-- Left arrow from Credibility -->
  <path d="M 410 300 L 370 300" class="arrow"/>
  
  <!-- Stage 7: Utility Check -->
  <rect x="230" y="260" width="140" height="80" class="stage-box" fill="#aecbdc"/>
  <text x="300" y="285" text-anchor="middle" class="stage-title">7. Utility</text>
  <text x="300" y="305" text-anchor="middle" class="stage-text">Is it useful</text>
  <text x="300" y="320" text-anchor="middle" class="stage-text">to cite?</text>
  
  <!-- Utility Factors -->
  <rect x="240" y="355" width="140" height="105" rx="5" fill="#f0f0f0" stroke="#cccccc"/>
  <text x="310" y="372" text-anchor="middle" class="factor-text" font-weight="bold">Key Factors:</text>
  <text x="310" y="388" text-anchor="middle" class="factor-text">✓ Clear structure</text>
  <text x="310" y="403" text-anchor="middle" class="factor-text">✓ Direct answers</text>
  <text x="310" y="418" text-anchor="middle" class="factor-text">✓ Schema markup</text>
  <text x="310" y="433" text-anchor="middle" class="factor-text">✓ Scannability</text>
  <text x="310" y="448" text-anchor="middle" class="factor-text">✓ Completeness</text>
  
  <!-- Left arrow from Utility -->
  <path d="M 230 300 L 190 300" class="arrow"/>
  
  <!-- Stage 8: Citation Decision -->
  <rect x="50" y="260" width="140" height="80" class="stage-box" fill="#10a37f"/>
  <text x="120" y="285" text-anchor="middle" class="stage-title">8. Citation</text>
  <text x="120" y="305" text-anchor="middle" class="stage-text">Your content</text>
  <text x="120" y="320" text-anchor="middle" class="stage-text">is cited!</text>
  
  <!-- Success arrow down -->
  <path d="M 120 340 L 120 480" class="success-arrow"/>
  
  <!-- Final Result -->
  <rect x="30" y="480" width="180" height="100" rx="8" fill="#d4edda" stroke="#10a37f" stroke-width="2"/>
  <text x="120" y="505" text-anchor="middle" style="font-family: Arial, sans-serif; font-size: 14px; font-weight: bold; fill: #155724;">Success Outcome</text>
  <text x="120" y="528" text-anchor="middle" style="font-family: Arial, sans-serif; font-size: 11px; fill: #155724;">✓ Inline citation with link</text>
  <text x="120" y="545" text-anchor="middle" style="font-family: Arial, sans-serif; font-size: 11px; fill: #155724;">✓ Brand visibility</text>
  <text x="120" y="562" text-anchor="middle" style="font-family: Arial, sans-serif; font-size: 11px; fill: #155724;">✓ Traffic opportunity</text>
  
  <!-- Alternative path - Rejected -->
  <rect x="240" y="480" width="180" height="100" rx="8" fill="#f8d7da" stroke="#dc3545" stroke-width="2"/>
  <text x="330" y="505" text-anchor="middle" style="font-family: Arial, sans-serif; font-size: 14px; font-weight: bold; fill: #721c24;">Not Cited</text>
  <text x="330" y="528" text-anchor="middle" style="font-family: Arial, sans-serif; font-size: 11px; fill: #721c24;">✗ Failed at one stage</text>
  <text x="330" y="545" text-anchor="middle" style="font-family: Arial, sans-serif; font-size: 11px; fill: #721c24;">✗ Not discoverable/</text>
  <text x="330" y="562" text-anchor="middle" style="font-family: Arial, sans-serif; font-size: 11px; fill: #721c24;">relevant/credible/useful</text>
  
  <!-- Failure paths (dotted lines) -->
  <path d="M 670 140 L 670 180 L 330 180 L 330 480" stroke="#dc3545" stroke-width="1.5" stroke-dasharray="5,5" fill="none" marker-end="url(#fail-arrowhead)"/>
  <path d="M 590 300 L 550 300 L 550 400 L 330 400 L 330 480" stroke="#dc3545" stroke-width="1.5" stroke-dasharray="5,5" fill="none"/>
  <path d="M 410 300 L 370 300 L 370 420 L 330 420 L 330 480" stroke="#dc3545" stroke-width="1.5" stroke-dasharray="5,5" fill="none"/>
  <path d="M 230 300 L 190 300 L 190 440 L 330 440 L 330 480" stroke="#dc3545" stroke-width="1.5" stroke-dasharray="5,5" fill="none"/>
  
  <!-- Failure arrowhead -->
  <marker id="fail-arrowhead" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">
    <polygon points="0 0, 10 3, 0 6" fill="#dc3545" />
  </marker>
  
  <!-- Legend -->
  <text x="450" y="505" style="font-family: Arial, sans-serif; font-size: 13px; font-weight: bold; fill: #333333;">Optimization Strategy:</text>
  <text x="450" y="525" style="font-family: Arial, sans-serif; font-size: 11px; fill: #555555;">Address ALL stages to maximize</text>
  <text x="450" y="540" style="font-family: Arial, sans-serif; font-size: 11px; fill: #555555;">citation opportunities:</text>
  <text x="450" y="560" style="font-family: Arial, sans-serif; font-size: 10px; fill: #666666;">1. Ensure Bing indexing</text>
  <text x="450" y="575" style="font-family: Arial, sans-serif; font-size: 10px; fill: #666666;">2. Match user intent precisely</text>
  
  <text x="630" y="560" style="font-family: Arial, sans-serif; font-size: 10px; fill: #666666;">3. Build E-E-A-T signals</text>
  <text x="630" y="575" style="font-family: Arial, sans-serif; font-size: 10px; fill: #666666;">4. Structure for easy extraction</text>
</svg>
